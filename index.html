<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <title>我的导航</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header></header>
    <main>
        <div id="yyy"></div> 
    </main>
    <footer></footer>
    <script>
    var keys = {
        '0': ['q','w','e','r','t','y','u','i','o','p'],
        '1': ['a','s','d','f','g','h','j','k','l'],
        '2': ['z','x','c','v','b','n','m'],
        length: 3
    }
    var hash = {
        'q': 'www.qq.com',
        'w': 'weibo.com',
        'e': 'ele.com',
        't': 'v.qq.com',
        'y': 'faxian.youku.com',
        'j': 'www.jd.com',
        'i': 'iqiyi.com',
        'o': 'opera.com',
        'a': 'www.acfun.cn',
        's': 'sohu.com',
        'z': 'zhihu.com',
        'm': 'www.mcdonalds.com.cn',
        'b': 'www.bilibili.com',
        'd': 'www.douban.com',
        'c': 'cctv.com',
        'x': 'www.xunlei.com',
    }
    var hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
    if(hashInLocalStorage){
        hash = hashInLocalStorage
    }
    index = 0
    while(index< keys['length']){
        ddd = document.createElement('div')
        ddd.className = 'dddd'
        yyy.appendChild(ddd)
        row = keys[index]
        index2 = 0
        while(index2< row['length']){
           kkk = document.createElement('kbd')
           sss = document.createElement('span')
           kkk.className = 'kkkk'
           sss.className = 'sss'
           sss.textContent = row[index2]
           kkk.appendChild(sss)
           bbb = document.createElement('button')
           bbb.textContent = '编辑'
           bbb.id = row[index2]
           iii = document.createElement('img')
           if(hash[row[index2]]){
               iii.src = 'http://'+hash[row[index2]]+'/favicon.ico'
           }else{
               iii.src ='//i.loli.net/2017/11/10/5a05afbc5e183.png'
           }
           bbb.onclick = function(andeanniu){
               key = andeanniu['target']['id']
               xxx = prompt('输入要修改的网址')
               hash[key] = xxx
               localStorage.setItem('zzz', JSON.stringify(hash))
           }
           kkk.appendChild(iii)
           kkk.appendChild(bbb)
           ddd.appendChild(kkk)
           index2 = index2 + 1
        }
        index = index + 1
    }
    document.onkeypress = function(andejian){
        key = andejian['key']
        website = hash[key]
        location.href = 'http://'+website
    }
    </script>
</body>
</html>